
/* 
    Copyright 2007-2013 William Andrew Burnson. All rights reserved.

    File modified by Nicolas Danet.
    
*/

/* < http://opensource.org/licenses/BSD-2-Clause > */

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------
// MARK: -

#ifndef BELLE_SYMBOLS_CLEF_HPP
#define BELLE_SYMBOLS_CLEF_HPP

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------

/* < https://en.wikipedia.org/wiki/Clef > */

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------

namespace belle {

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------

namespace Shapes {

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------
// MARK: -

class Clef {

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------
// MARK: -

protected:
    Clef() : glyph_ (0x0000), scale_ (House::kAffineJoie)
    {
    }

#if PRIM_CPP11

public:
    Clef (const Clef&) = default;
    Clef (Clef&&) = default;
    Clef& operator = (const Clef&) = default;
    Clef& operator = (Clef&&) = default;

#endif

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------
// MARK: -

public:
    void addToPath (Path& path) const
    {
        path.addPath (House::getInstance().getJoie().getGlyph (glyph_)->getPath(), scale_);
    }

protected:
    unicode glyph_;
    Affine scale_;

private:
    PRIM_LEAK_DETECTOR (Clef)
};

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------
// MARK: -

struct FClef : public Clef {

public:
    FClef()
    {
        glyph_ = 0x0042;
        scale_ = Affine::translation (Vector (0.0, House::kStaffSpaceWidth)) * scale_;
    }
};

struct GClef : public Clef {

public:
    GClef()
    {
        glyph_ = 0x0041;
        scale_ = Affine::translation (Vector (0.0, -House::kStaffSpaceWidth)) * scale_;
    }
};

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------

} // namespace Shapes

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------

} // namespace belle

// -----------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------------------------------------------------------
#endif // BELLE_SYMBOLS_CLEF_HPP
